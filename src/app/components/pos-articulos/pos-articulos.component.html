<div class="overlay" *ngIf="load">
  <div class="spinner ">
    <!-- <img src="/src/assets/images/loading.gif"/> -->
    <img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" />
  </div>

</div>
<div class="container">
  <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Cargando...</p>
  </ngx-spinner>
</div>
<header class="contenedor">
  <div class="logo">
    <a href="https://www.llanodelatorre.com.mx/" target="_blank" rel="noopener noreferrer">
      <img width="110" alt="Angular Logo"
        src="https://llanodelatorremx.vtexassets.com/assets/vtex/assets-builder/llanodelatorremx.store-theme/1.98.4/images/logo.9f6c409e___769d454cc976011fb613e81afafcdb28.svg" /></a>
    <p></p>
    <h2 style="color:rgb(177, 5, 5)">&nbsp;<span>{{ empleadoDetalle.name }}</span></h2>
  </div>

  &nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;

  <ul class="menu-bar">
    <li> Ventas
      <ul class="submenu">
        <li><a (click)="verBuscaArticulos(empleadoDetalle.user_ID)" routerLink="">Busqueda de Artículos</a></li>
        <li><a (click)="verBuscaClientes(empleadoDetalle.user_ID)" routerLink="">Busqueda y Alta de Clientes</a></li>
        <li><a (click)="verBuscaPedidos(empleadoDetalle.user_ID)" routerLink="">Alta de Pedidos</a></li>
        <li><a href="#" routerLink="/search">Busqueda 1</a></li>
        <li><a href="#" routerLink="/search">Busqueda 2</a></li>
      </ul>
    </li>
    <li class="caja"><a class="linkventas">Caja</a>
      <ul class="submenu">
        <li><a *ngIf="cajera" href="#caja" routerLink="/search">Cobranza</a></li>
        <li><a *ngIf="cajera" href="#caja" routerLink="/search">Facturacion</a></li>
      </ul>
    </li>
    <li class="operaciones"><a class="linkventas">Operaciones</a>
      <ul class="submenu">
        <li><a href="#operaciones" routerLink="/search">Busqueda de Etiquetas</a></li>
        <li><a href="#operaciones" routerLink="/search">Busqueda de Pagos</a></li>
      </ul>
    </li>
    <li class="autorizaciones"><a class="linkventas">Autorizaciones</a>
      <ul class="submenu">
        <li><a href="#autorizaciones" routerLink="/search">Busqueda de Autorizaciones</a></li>
      </ul>
    </li>
    <li class="salir"><a>Salir</a>
      <ul class="submenu">
        <li><a (click)="regresarHome(empleadoDetalle.user_ID)" routerLink="">Pantalla Principal</a></li>
        <li><a href="app-pos-logi" routerLink="">Salir Sistema</a></li>
      </ul>
    </li>
  </ul>
</header>


<header class="contenedor-mob">

  <div class="logo">
    <a href="https://www.llanodelatorre.com.mx/" target="_blank" rel="noopener noreferrer">
      <img width="110" alt="Angular Logo"
        src="https://llanodelatorremx.vtexassets.com/assets/vtex/assets-builder/llanodelatorremx.store-theme/1.98.4/images/logo.9f6c409e___769d454cc976011fb613e81afafcdb28.svg" /></a>
    <p></p>
    <h2 style="color:rgb(177, 5, 5)">&nbsp;<span>{{ empleadoDetalle.name }}</span></h2>
  </div>


  <nav class="nav-mob">
    <ul class="nav-mob-sub">
      <li><a>Menú</a>
        <ul>
          <li><a>Ventas</a>
            <ul>
              <li><a (click)="verBuscaArticulos(empleadoDetalle.user_ID)" routerLink="">Busqueda de Artículos</a></li>
              <li><a (click)="verBuscaClientes(empleadoDetalle.user_ID)" routerLink="">Busqueda y Alta de Clientes</a></li>
              <li><a (click)="verBuscaPedidos(empleadoDetalle.user_ID)" routerLink="">Alta de Pedidos</a></li>
              <li><a href="#" routerLink="/search">Busqueda 1</a></li>
              <li><a href="#" routerLink="/search">Busqueda 2</a></li>
            </ul>
          </li>
          <li><a>Caja</a>
            <ul>
              <li><a *ngIf="cajera" href="#caja" routerLink="/search">Cobranza</a></li>
              <li><a *ngIf="cajera" href="#caja" routerLink="/search">Facturacion</a></li>
            </ul>
          </li>
          <li><a>Operaciones</a>
            <ul>
              <li><a href="#operaciones" routerLink="/search">Busqueda de Etiquetas</a></li>
              <li><a href="#operaciones" routerLink="/search">Busqueda de Pagos</a></li>
            </ul>
          </li>
          <li><a>Autorizaciones</a>
            <ul>
              <li><a href="#autorizaciones" routerLink="/search">Busqueda de Autorizaciones</a></li>
            </ul>
          </li>
          <li><a>Salir</a>
            <ul>
              <li><a (click)="regresarHome(empleadoDetalle.user_ID)" routerLink="">Pantalla Principal</a></li>
              <li><a href="app-pos-logi" routerLink="">Salir Sistema</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </nav>
</header>


<p></p>
<section class="main">
  <mat-card-header>
    <mat-card-title>&nbsp;&nbsp;&nbsp;{{ empleadoDetalle.first_NAME }}</mat-card-title>
  </mat-card-header>
</section>
<section class="main">
  <mat-card-header>
    <mat-card-title>&nbsp;&nbsp;&nbsp;Lista Autorizada : {{ empleadoDetalle.price_LIST_H_ID }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <!-- <h3>Lista Autorizada : <span>{{ empleadoDetalle.price_LIST_H_ID }}</span></h3> -->
  </mat-card-content>
</section>

<div class="infoFormulario">
  <div class="shadow p-3 mb-3 bg-white rounded">
    <h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;Busqueda de Articulos</h2>
    <div class="col-12" align="center">
      <select [(ngModel)]="buscaProveedor" name="proveedor" id="proveedor" style="height:37px;width:323px"
        placeholder="proveedor" required>
        <option value="0"></option>
        <option *ngFor="let p of proveedor | unique " [value]="p">{{p}}</option>
      </select>
    </div>
    &nbsp;
    <div class="col-12" align="center">
      <input type="text" [(ngModel)]="buscaDescripcion" placeholder="Descripción" style="height:31px;width:300px"
        id="descripcion" name="descripcion" required>
    </div>
    &nbsp;
    <div class="col-12" align="center">
      <input type="text" [(ngModel)]="buscaClaveArt" name="claveArt" id="claveArt" style="height:25px;width:100px"
        placeholder="ID Articulo" value="" required>
      &nbsp; &nbsp;
      <select placeholder="Lista" [(ngModel)]="buscaPriceList" name="buscaPriceList" id="buscaPriceList"
        style="height:31px;width:60px">
        <option *ngFor="let p of userList | unique | orderBy" [value]="p">{{p}}</option>
      </select>
    </div>
    &nbsp;
    <div class="col-12" align="center">
      <button class="btn btn-primary" style="height:30px;width:200px" type="submit"
        (click)="buscaDetalleArticulos()">Buscar</button>
    </div>
  </div>
</div>



&nbsp;&nbsp;&nbsp; <mat-form-field appearance="standard">
  <mat-label>Filtro de Tabla</mat-label>
  <input matInput placeholder="" search (keyup)="applyFilter($event)" #input>
</mat-form-field>
<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- Articulo Column -->
    <ng-container matColumnDef="Articulo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Articulo">
        Articulo
      </th>
      <td mat-cell *matCellDef="let DatosItem"> {{DatosItem.inventory_ITEM_ID}} </td>
    </ng-container>

    <!-- CAT Column -->
    <ng-container matColumnDef="CAT">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by CAT">
        CAT
      </th>
      <td mat-cell *matCellDef="let DatosItem"> {{DatosItem.category_SEGMENT1}} </td>
    </ng-container>

    <!-- Descripción Column -->
    <ng-container matColumnDef="Descripción">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Descripción">
        Descripción
      </th>
      <td mat-cell *matCellDef="let DatosItem"> {{DatosItem.description}} </td>
    </ng-container>

    <!-- UOM Column -->
    <ng-container matColumnDef="UOM">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by UOM">
        UOM
      </th>
      <td mat-cell *matCellDef="let DatosItem"> {{DatosItem.primary_UOM}} </td>
    </ng-container>

    <!-- Existencia Column -->
    <!--   <ng-container matColumnDef="Existencia">
     <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Existencia">
       Existencia
     </th>
     <td mat-cell *matCellDef="let DatosItem2"> {{DatosItem2.existencias}} </td>
   </ng-container> -->


    <!-- Precio Unit. Column -->
    <ng-container matColumnDef="Precio Unit.">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Precio Unit.">
        Precio Unit.
      </th>
      <td mat-cell *matCellDef="let DatosItem">{{DatosItem.unit_PRICE | currency: '' | lowercase}} </td>
    </ng-container>


    <!-- Boton de existencias -->
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Precio Unit.">
      </mat-header-cell>
      <mat-cell *matCellDef="let DatosItem"> <button mat-button
          (click)="openDialog(DatosItem.inventory_ITEM_ID, empleadoDetalle.name, empleadoDetalle.user_ID)">Existencia</button>
      </mat-cell>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


    <!-- MOSTRAR VACIO AL NO EXISTIR CONICIDENCIAS -->

    <tr>
      <td class="mat-cell" colspan="4"> El filtro que ingreso {{input.value}} no obtuvo coincidencias.</td>
    </tr>


  </table>


  <mat-paginator [pageSize]="10" showFirstLastButtons aria-label="Select page of User">
  </mat-paginator>


</div>


<br>
<br>
<br>
<br>
<footer id="pie">
  <section class="links">
    <a href="https://www.llanodelatorre.com.mx/" target="_blank" rel="noopener noreferrer">llanodelatorre.com.mx
    </a>
  </section>

  <div class="social">
    <a aria-label="llanodelatorre on twitter" target="_blank" rel="noopener" href="https://twitter.com/llanodelatorre"
      title="Twitter">
      <svg id="twitter-logo" height="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">
        <rect width="400" height="400" fill="none" />
        <path
          d="M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"
          fill="#fff" />
      </svg>
    </a>
    <a aria-label="llanodelatorre on YouTube" target="_blank" rel="noopener"
      href="https://www.youtube.com/channel/UCP8xIl7aKKf9w8nAqi9__fA" title="YouTube">
      <svg id="youtube-logo" height="24" width="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24" fill="#fff">
        <path d="M0 0h24v24H0V0z" fill="none" />
        <path
          d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z" />
      </svg>
    </a>
  </div>
</footer>